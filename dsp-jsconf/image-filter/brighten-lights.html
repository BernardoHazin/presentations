<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Image Filter</title>
	<style type="text/css">
		.canvas {
			margin: 0 auto;
			display: block;
			border: 1px solid #000;
		}
	</style>
</head>
<body>

	<canvas id="canvas" class="canvas" width="1024" height="816"></canvas>

 	<!-- <canvas id="canvas" class="canvas" width="259" height="194"></canvas> -->
	<script type="text/javascript" src="../lodash.js"></script>

	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');

		var imageLoaded = function () {
			var imgData = ctx.getImageData(0,0,canvas.width, canvas.height);
			var data = imgData.data;
			console.log(imgData.data, canvas.width)
			
			// console.log(counted)

			for (var i = 0; i < data.length; i+=4) {
				if (i%100 == 0) {
					// console.log(data[i])
				}

				// if ( i % (canvas.width * 4) > canvas.width * 2 )  {
					// console.log(i)
					// 255, 238, 89
					if (imgData.data[i] < 260 && imgData.data[i] > 210 && (imgData.data[i+1] < 265 && imgData.data[i+1] > 200) && (imgData.data[i+2] < 158 && imgData.data[i+2] > 20)) {
						imgData.data[i] += 100
						imgData.data[i+1] += 100
						imgData.data[i+2] += 100
					}
					
					
					// imgData.data[i+3] = 200;
				// } 

				// imgData.data[i] = 255;
				// imgData.data[i+1] = Math.round(Math.random()*255);
				// imgData.data[i+2] = Math.round(Math.random()*255);
				// imgData.data[i+3] = Math.round(Math.random()*255);
			}

			console.log(imgData)

			ctx.putImageData(imgData, 0, 0)
		}

		make_base();

		function make_base() {
		  base_image = new Image();
		  base_image.src = 'communication-tower.jpeg';
		  base_image.onload = function(){
		    ctx.drawImage(base_image, 0, 0);
		    imageLoaded(base_image);
		  }
		}
	</script>
</body>
</html>